{% extends 'dashboard/instructor/base.html' %}
{% load crispy_forms_tags %}

{% block body %}
<div class="container-fluid" style="background-color: #343a40; padding-top: 20px;">
  <!-- Breadcrumbs-->
  <div class="card mb-3" style="background-color: #454d55; color: white;">
    <div class="card-body">
      <nav aria-label="breadcrumb">
        <ol class="breadcrumb">
          <li class="breadcrumb-item"><a href="{% url 'quiz_change_list' %}" style="color: black;">My Quizzes</a></li>
          <li class="breadcrumb-item active" aria-current="page">{{ quiz.name }}</li>
        </ol>
      </nav>
      <h2 class="m-4">
        {{ quiz.name }}
        <a href="{% url 'quiz_results' quiz.pk %}" class="btn btn-primary float-right">View results</a>
      </h2>
      <div class="row mb-3">
        <form method="post" novalidate>
          {% csrf_token %}
          {{ form|crispy }}
          <a href="{% url 'quiz_change_list' %}" class="btn btn-outline-secondary" role="button">Nevermind</a>
          <a href="{% url 'quiz_delete' quiz.pk %}" class="btn btn-danger float-right">Delete</a>
        </form>
        <br>
      </div>
      <div class="card">
        <div class="card-header">
          <div class="row">
            <div class="col-sm-6">
              <strong style="color: black;">Questions</strong>
            </div>
            <div class="col-sm-6">
              <strong style="color: black;">Answers</strong>
            </div>
            <div class="col-sm-6">
              <a href="{% url 'question_add' quiz.pk %}" class="btn btn-primary btn-sm">Add question</a>
            </div>
          </div>
        </div>
        <div class="list-group list-group-flush list-group-formset">
          {% for question in questions %}
          <div class="list-group-item">
            <div class="row">
              <div class="col-10">
                <a href="{% url 'question_change' quiz.pk question.pk %}" style="color: black;">{{ question.text }}</a>
              </div>
              <div class="col-sm-8" style="color: black;">
                {{ question.answers_count }}
              </div>
            </div>
          </div>
          {% empty %}
          <div class="list-group-item text-center">
            <p class="text-muted font-italic mb-0">You haven't created any questions yet. Go ahead and <a
                href="{% url 'question_add' quiz.pk %}" style="color: black;">add the first question</a>.</p>
          </div>
          {% endfor %}
        </div>
      </div>
    </div>
  </div>
</div>
{% endblock body %}